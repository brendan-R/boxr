---
title: "Box Apps"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{box-apps}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Apps

Apps are what allow you to interact programatically with the Box API. They are created and manage them through [Box's developer console](https://app.box.com/developers/console), either by you or by your institution's Box-admin team. If you've already used `boxr` to authenticate with Box, you've already used a Box app. This vignette is about the difference between the two type of apps that `boxr` uses and the administrative considerations that go along with them.

## Standard OAuth2 2.0 (User Authentication)

This type of app can be linked only to a single *existing* user account. These apps can perform actions only as that user and browser authentication is required via the Box web app.

Because of this restricted scope, you can create and authorize this type of app without any additional Box administrator privileges. This is the first choice for authentication, and should be enough for most `boxr` users.

## OAuth2.0 with JWT (Server Authentication)

The second choice for authentication, when you don't have access to a local browser. These apps have elevated permissions and require Box adminstrator approval becasue of it. 

This type of app is represented with a *service* account, which is associated with a Box enterprise. A service account is similar to a user account, but with additional admin functionality. Service accounts are not linked to a particular user account and they have their own separate file storage system.

JWT apps are primarily designed for sys-admin work, but they are useful to `boxr`, because they can assume the identify of an existing user and they play well on remotes. Becasue of how Box structured their API for these apps, they are capable of performining actions as *any non-admin user* within its associated enterprise. Currently there is [no way to restrict app abilities/access to only specific users](https://community.box.com/t5/Platform-and-Development-Forum/Restrict-service-account-permissions-to-specific-users/td-p/35984). `boxr` only supports acting as a individual users and does not provide access to other admin level functionality, like creating/deleting users, managing document permissions, etc.

If you are setting a JWT app up for a personal account, this is not really an issue. But if you are doing this for a company account, this means the app *could* access sensitive information from another user account (eg payroll, HR records, etc.) if it was provided with the relevant user ID and a valid private key file. Note: Box provisions user IDs by time the account was created, so if a batch of accounts was created together (say when the enterprise account was initialized) they will have sequential user ID numbers.
