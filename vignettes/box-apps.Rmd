---
title: "Box Apps"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{box-apps}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Apps

Apps are what allow you to programaticly interact with the Box API. You create and manage them through [Box's developer console](https://app.box.com/developers/console). If you've already authenticated with Box, you've already succesfully created one of these useful tools. This vignette is about the difference between the two type of apps that `boxr` uses and the administrative considerations that go along with them.

## Standard OAuth2 2.0 (User Authentication)

This type of app can only be linked to a single *existing* user account. These apps can only perform actions as that user and browser authentication is required via the Box web app.

Because of this restricted scope, you can create and authorize this type of app without any additional Box administrator priviledges. This is the first choice for authentication, and should be enough for most `boxr` users.

## OAuth2.0 with JWT (Server Authentication)

The second choice of authentication, for when you don't have access to a local browser. These apps have elevated permissions and require Box adminstrator approval becasue of it. 

This type of app is represented with a *service* account, which is associated with a Box enterprise. A service account is similar to a user account, but with additional admin functionality. Service accounts are not linked to a particular user account and they have their own separate file storage system. These apps are primarily designed for sys-admin work, and are typically found integrated into other pieces of software. In `boxr` we aren't doing any of that, but these apps are still useful, because they can assume the identify of an existing user and they play well on remotes.

For a JWT app to work with `boxr`, it requires a specific configuration of access settings. It must:

* Have enterprise level access
* Be allowed to act on behalf of a user
* Be able to generate access tokens for users

Becasue of these, a JWT app is capable of performining actions as any non-admin user within its enterprise.

If you are doing this for a personal account, you already [know the admin](https://i.kym-cdn.com/entries/icons/original/000/024/965/well.jpg), and this is not an issue because you are the only user! But if you are doing this for a company account, this means the app *could potentially* access sensitive information (eg payroll, HR records, etc.) if it was provided with relevant user information.

This type of bad-actor scenario is not unique to Box. But Box does give administrators the tools to defend against these situations. There are regular reports about activity and usage, along with alerts when suspicious traffic is detected. Box admins also have the ability to revoke the private key a JWT app depnds on and disable entire applications if needed.

It is ultimately up to you and your team to keep the private keys and user information secret. Treat this information like you would any other username and password. There is no way for `boxr` to tell if an app is being used by a bad actor, but the Box API can help detect and defend against malicious activity. With a little common sense and routine usage statistics, you can be confident no one is improperly accessesing information in your enterprise account.
